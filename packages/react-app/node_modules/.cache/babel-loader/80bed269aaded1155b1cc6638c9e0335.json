{"ast":null,"code":"var _jsxFileName = \"/Users/upalc/Documents/ethglobal/project/dethLockapp/packages/react-app/src/components/BeneficiariesInput.jsx\";\nimport React, { useState } from \"react\";\nimport { Input, Space, Form, Card, Button } from \"antd\";\nimport { MinusCircleOutlined, PlusOutlined } from \"@ant-design/icons\";\nexport default function BeneficiariesInput(props) {\n  const [setBeneficiariesShare] = useState([1]);\n\n  const onFinishBeneficiaries = values => {\n    const result = values.beneficiaries.map(({\n      beneficiaries\n    }) => beneficiaries);\n    console.log(\"New beneficiaries:\", result);\n    props.onChange(result);\n    const resultsShares = values.beneficiaries.map(({\n      beneficiariesShare\n    }) => beneficiariesShare);\n    setBeneficiariesShare(resultsShares); // compute percenteages\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    style: {\n      marginTop: 32\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 9\n    }\n  }, \" Beneficiaries \"), /*#__PURE__*/React.createElement(Form, {\n    name: \"dynamic_form_item\",\n    onFinish: onFinishBeneficiaries,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Form.List, {\n    name: \"beneficiaries\",\n    rules: [{\n      validator: async (_, beneficiaries) => {\n        if (!beneficiaries || beneficiaries.length < 1) {\n          return Promise.reject(new Error(\"Choose at least 1 beneficiary\"));\n        }\n      }\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 11\n    }\n  }, (fields, {\n    add,\n    remove\n  }, {\n    errors\n  }) => /*#__PURE__*/React.createElement(React.Fragment, null, fields.map(field => /*#__PURE__*/React.createElement(Space, {\n    key: field.key,\n    style: {\n      display: \"flex\",\n      marginBottom: 8\n    },\n    align: \"baseline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, Object.assign({}, field, {\n    name: [field.name, \"beneficiaries\"],\n    fieldKey: [field.fieldKey, \"beneficiaries\"],\n    rules: [{\n      required: true,\n      message: \"Missing address\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"Beneficiary address\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 23\n    }\n  })), fields.length > 1 ? /*#__PURE__*/React.createElement(Form.Item, Object.assign({}, field, {\n    name: [field.name, \"beneficiariesShare\"],\n    fieldKey: [field.fieldKey, \"beneficiariesShare\"],\n    rules: [{\n      required: true,\n      message: \"Missing pct for beneficiary\"\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 23\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    placeholder: fields.length > 1 ? 100 / fields.length : 100,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 25\n    }\n  })) : null, /*#__PURE__*/React.createElement(MinusCircleOutlined, {\n    onClick: () => remove(field.name),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"dashed\",\n    onClick: () => add(),\n    style: {\n      width: \"60%\"\n    },\n    icon: /*#__PURE__*/React.createElement(PlusOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 94\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 19\n    }\n  }, \"Add\"), /*#__PURE__*/React.createElement(Form.ErrorList, {\n    errors: errors,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 19\n    }\n  })))), /*#__PURE__*/React.createElement(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, \"Set beneficiaries\")))));\n}","map":{"version":3,"sources":["/Users/upalc/Documents/ethglobal/project/dethLockapp/packages/react-app/src/components/BeneficiariesInput.jsx"],"names":["React","useState","Input","Space","Form","Card","Button","MinusCircleOutlined","PlusOutlined","BeneficiariesInput","props","setBeneficiariesShare","onFinishBeneficiaries","values","result","beneficiaries","map","console","log","onChange","resultsShares","beneficiariesShare","marginTop","validator","_","length","Promise","reject","Error","fields","add","remove","errors","field","key","display","marginBottom","name","fieldKey","required","message","width"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Input, Space, Form, Card, Button } from \"antd\";\nimport { MinusCircleOutlined, PlusOutlined } from \"@ant-design/icons\";\n\nexport default function BeneficiariesInput(props) {\n  const [setBeneficiariesShare] = useState([1]);\n\n  const onFinishBeneficiaries = values => {\n    const result = values.beneficiaries.map(({ beneficiaries }) => beneficiaries);\n    console.log(\"New beneficiaries:\", result);\n    props.onChange(result);\n\n    const resultsShares = values.beneficiaries.map(({ beneficiariesShare }) => beneficiariesShare);\n    setBeneficiariesShare(resultsShares); // compute percenteages\n  };\n\n  return (\n    <div>\n      <Card style={{ marginTop: 32 }}>\n        <h3> Beneficiaries </h3>\n        <Form name=\"dynamic_form_item\" onFinish={onFinishBeneficiaries}>\n          <Form.List\n            name=\"beneficiaries\"\n            rules={[\n              {\n                validator: async (_, beneficiaries) => {\n                  if (!beneficiaries || beneficiaries.length < 1) {\n                    return Promise.reject(new Error(\"Choose at least 1 beneficiary\"));\n                  }\n                },\n              },\n            ]}\n          >\n            {(fields, { add, remove }, { errors }) => (\n              <>\n                {fields.map(field => (\n                  <Space key={field.key} style={{ display: \"flex\", marginBottom: 8 }} align=\"baseline\">\n                    <Form.Item\n                      {...field}\n                      name={[field.name, \"beneficiaries\"]}\n                      fieldKey={[field.fieldKey, \"beneficiaries\"]}\n                      rules={[{ required: true, message: \"Missing address\" }]}\n                    >\n                      <Input placeholder=\"Beneficiary address\" />\n                    </Form.Item>\n                    {fields.length > 1 ? (\n                      <Form.Item\n                        {...field}\n                        name={[field.name, \"beneficiariesShare\"]}\n                        fieldKey={[field.fieldKey, \"beneficiariesShare\"]}\n                        rules={[{ required: true, message: \"Missing pct for beneficiary\" }]}\n                      >\n                        <Input placeholder={fields.length > 1 ? 100 / fields.length : 100} />\n                      </Form.Item>\n                    ) : null}\n                    <MinusCircleOutlined onClick={() => remove(field.name)} />\n                  </Space>\n                ))}\n                <Form.Item>\n                  <Button type=\"dashed\" onClick={() => add()} style={{ width: \"60%\" }} icon={<PlusOutlined />}>\n                    Add\n                  </Button>\n                  <Form.ErrorList errors={errors} />\n                </Form.Item>\n              </>\n            )}\n          </Form.List>\n          <Form.Item>\n            <Button type=\"primary\" htmlType=\"submit\">\n              Set beneficiaries\n            </Button>\n          </Form.Item>\n        </Form>\n      </Card>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}